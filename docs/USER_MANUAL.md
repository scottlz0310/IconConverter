# IconConverter ユーザーマニュアル

## 目次

1. [はじめに](#はじめに)
2. [インストール](#インストール)
3. [基本的な使い方](#基本的な使い方)
4. [機能詳細](#機能詳細)
5. [設定](#設定)
6. [トラブルシューティング](#トラブルシューティング)
7. [よくある質問](#よくある質問)

---

## はじめに

IconConverterは、様々な画像形式をWindows ICO形式に変換するデスクトップアプリケーションです。

### 主な特徴

- 🖼️ **多様な画像形式対応**: PNG、JPEG、BMP、GIF、TIFF、WebP
- 📐 **複数サイズ生成**: 16×16から256×256まで6つのサイズを同時生成
- ✨ **透明化機能**: 既存の透明度保持、自動背景除去
- 🚀 **高速処理**: 5MB画像を5秒以内で変換
- 💾 **オフライン動作**: インターネット接続不要
- 🎨 **直感的なUI**: ドラッグ&ドロップ対応
- 🔒 **安全**: ローカル処理、データは外部送信されません

### システム要件

#### Windows

- **OS**: Windows 10 (64-bit) 以降
- **メモリ**: 4GB RAM以上推奨
- **ディスク空間**: 500MB以上

#### macOS

- **OS**: macOS 12 (Monterey) 以降
- **アーキテクチャ**: Intel (x64) または Apple Silicon (arm64)
- **メモリ**: 4GB RAM以上推奨
- **ディスク空間**: 500MB以上

#### Linux

- **ディストリビューション**: Ubuntu 20.04以降、または同等のディストリビューション
- **アーキテクチャ**: x64
- **メモリ**: 4GB RAM以上推奨
- **ディスク空間**: 500MB以上

---

## インストール

### Windows

1. **インストーラーのダウンロード**
   - [GitHubリリースページ](https://github.com/yourusername/iconconverter/releases)から最新版の`IconConverter-Setup-x.x.x.exe`をダウンロード

2. **インストール実行**
   - ダウンロードしたファイルをダブルクリック
   - セキュリティ警告が表示された場合は「詳細情報」→「実行」をクリック
   - インストールウィザードの指示に従う
   - インストール先フォルダを選択（デフォルト: `C:\Program Files\IconConverter`）
   - デスクトップショートカットの作成を選択（推奨）

3. **初回起動**
   - デスクトップのアイコンをダブルクリック、またはスタートメニューから起動
   - ファイル関連付けの設定を確認（オプション）

### macOS

1. **DMGファイルのダウンロード**
   - [GitHubリリースページ](https://github.com/yourusername/iconconverter/releases)から最新版の`IconConverter-x.x.x.dmg`をダウンロード
   - Intel Mac: `IconConverter-x.x.x-x64.dmg`
   - Apple Silicon Mac: `IconConverter-x.x.x-arm64.dmg`

2. **インストール**
   - ダウンロードしたDMGファイルをダブルクリック
   - IconConverterアイコンをApplicationsフォルダにドラッグ&ドロップ
   - DMGファイルをアンマウント（イジェクト）

3. **初回起動**
   - Applicationsフォルダから「IconConverter」を起動
   - 「開発元を確認できないため開けません」と表示された場合:
     - システム環境設定 → セキュリティとプライバシー → 「このまま開く」をクリック
   - または、Controlキーを押しながらアプリをクリック → 「開く」を選択

### Linux

#### AppImage（推奨）

1. **AppImageのダウンロード**
   - [GitHubリリースページ](https://github.com/yourusername/iconconverter/releases)から`IconConverter-x.x.x.AppImage`をダウンロード

2. **実行権限の付与**

   ```bash
   chmod +x IconConverter-x.x.x.AppImage
   ```

3. **起動**

   ```bash
   ./IconConverter-x.x.x.AppImage
   ```

#### DEBパッケージ（Debian/Ubuntu）

1. **DEBファイルのダウンロード**
   - [GitHubリリースページ](https://github.com/yourusername/iconconverter/releases)から`iconconverter_x.x.x_amd64.deb`をダウンロード

2. **インストール**

   ```bash
   sudo dpkg -i iconconverter_x.x.x_amd64.deb
   sudo apt-get install -f  # 依存関係の解決
   ```

3. **起動**

   ```bash
   iconconverter
   ```

   または、アプリケーションメニューから「IconConverter」を選択

#### RPMパッケージ（Fedora/RHEL/CentOS）

1. **RPMファイルのダウンロード**
   - [GitHubリリースページ](https://github.com/yourusername/iconconverter/releases)から`iconconverter-x.x.x.x86_64.rpm`をダウンロード

2. **インストール**

   ```bash
   sudo rpm -i iconconverter-x.x.x.x86_64.rpm
   ```

3. **起動**

   ```bash
   iconconverter
   ```

---

## 基本的な使い方

### 1. 画像の選択

#### 方法A: ドラッグ&ドロップ

1. 変換したい画像ファイルを用意
2. ファイルをIconConverterのウィンドウにドラッグ&ドロップ

#### 方法B: ファイル選択ダイアログ

1. 「ファイルを選択」ボタンをクリック
2. ファイル選択ダイアログで画像を選択
3. 「開く」をクリック

#### 方法C: 右クリックメニュー（ファイル関連付け有効時）

1. エクスプローラー/Finder/ファイルマネージャーで画像ファイルを右クリック
2. 「ICOに変換」を選択
3. IconConverterが自動的に起動し、画像が読み込まれます

### 2. プレビューの確認

画像を選択すると、以下の情報が表示されます:

- **プレビュー画像**: 選択した画像のサムネイル
- **ファイル名**: 元のファイル名
- **ファイルサイズ**: ファイルサイズ（KB/MB）
- **画像形式**: PNG、JPEG、BMP、GIF、TIFF、WebP
- **画像サイズ**: 幅×高さ（ピクセル）
- **透明度**: 透明チャンネルの有無

### 3. 変換オプションの選択

#### 透明度保持

既存の透明チャンネルを保持します（PNG、GIF、WebP画像）。

- ✅ **有効**: 元の画像の透明部分がそのまま保持されます
- ❌ **無効**: 透明部分が白色で塗りつぶされます

**推奨**: PNG、GIF、WebP画像で透明度が重要な場合は有効にしてください。

#### 自動背景透明化

単色背景を自動検出して透明化します（全形式対応）。

- ✅ **有効**: 画像の四隅の色を検出し、背景色を自動的に透明化
- ❌ **無効**: 背景色はそのまま保持されます

**推奨**: JPEG、BMP、TIFF画像で背景を透明にしたい場合に有効にしてください。

**注意**: 「透明度保持」と「自動背景透明化」は同時に有効にできません。

### 4. 変換の実行

1. 「ICOに変換」ボタンをクリック
2. 変換処理が開始されます（プログレスバーが表示されます）
3. 処理完了後、保存先を選択するダイアログが表示されます
4. ファイル名と保存先を指定して「保存」をクリック

### 5. 変換結果

変換が成功すると、以下のサイズを含むICOファイルが生成されます:

- 16×16 ピクセル
- 32×32 ピクセル
- 48×48 ピクセル
- 64×64 ピクセル
- 128×128 ピクセル
- 256×256 ピクセル

生成されたICOファイルは、Windowsのアイコンとして使用できます。

---

## 機能詳細

### 対応画像形式

| 形式 | 拡張子 | 透明度保持 | 自動透明化 | 備考 |
|------|--------|------------|------------|------|
| PNG | .png | ✅ | ✅ | 推奨形式 |
| JPEG | .jpg, .jpeg | ❌ | ✅ | 透明度なし |
| BMP | .bmp | ❌ | ✅ | 透明度なし |
| GIF | .gif | ✅ | ✅ | アニメーション非対応 |
| TIFF | .tiff, .tif | ❌ | ✅ | 透明度なし |
| WebP | .webp | ✅ | ✅ | アニメーション非対応 |

### ファイルサイズ制限

- **最大ファイルサイズ**: 10MB
- **推奨サイズ**: 5MB以下（処理速度のため）

### 透明化処理の詳細

#### 透明度保持モード

PNG、GIF、WebP画像の既存の透明チャンネル（アルファチャンネル）を保持します。

**動作**:

1. 元の画像の透明度情報を読み取り
2. リサイズ時に透明度を維持
3. ICOファイルに透明度情報を埋め込み

**適用例**:

- ロゴ画像（背景透明）
- アイコン素材
- UI要素

#### 自動背景透明化モード

単色背景を自動検出して透明化します。

**動作**:

1. 画像の四隅のピクセル色を取得
2. 最も頻出する色を背景色として判定
3. 背景色に近い色（許容範囲30）を透明化
4. エッジ部分の色も考慮（高度な検出）

**適用例**:

- 白背景の写真
- スキャンした画像
- スクリーンショット

**注意事項**:

- 複雑な背景（グラデーション、パターン）には適していません
- 被写体の色が背景色に近い場合、一部が透明化される可能性があります

### バッチ処理

現在のバージョンでは、1つずつ画像を変換する必要があります。

**複数ファイルの変換方法**:

1. 1つ目の画像を変換
2. 変換完了後、次の画像を選択
3. 繰り返し

**今後の予定**: バッチ処理機能を追加予定

---

## 設定

### アプリケーション設定

メニューバー → 「設定」から以下の設定が可能です:

#### 一般設定

- **テーマ**: ライト/ダーク/システム設定に従う
- **言語**: 日本語/English（今後対応予定）
- **起動時の動作**: 通常起動/最小化起動

#### ファイル関連付け

- **画像ファイルとの関連付け**: 有効/無効
  - 有効にすると、画像ファイルを右クリックして「ICOに変換」を選択できます
  - 対応形式: PNG、JPEG、BMP、GIF、TIFF、WebP

**設定方法**:

1. 設定画面で「ファイル関連付け」を有効化
2. 管理者権限が必要な場合があります（Windows）
3. 設定後、エクスプローラー/Finderで画像ファイルを右クリック

#### 自動更新

- **自動更新チェック**: 有効/無効
- **更新通知**: 有効/無効

**動作**:

- 4時間ごとに新しいバージョンをチェック
- 更新が利用可能な場合、通知を表示
- バックグラウンドでダウンロード
- 次回起動時に自動的に更新

### システムトレイ

アプリケーションをシステムトレイに最小化できます。

**使い方**:

1. ウィンドウの最小化ボタンをクリック
2. システムトレイにアイコンが表示されます
3. トレイアイコンをダブルクリックでウィンドウを再表示

**トレイメニュー**:

- IconConverterを表示
- 画像を変換...（クイック変換）
- 設定
- ファイル関連付け（有効/無効切り替え）
- バージョン情報
- 終了

---

## トラブルシューティング

### アプリケーションが起動しない

#### Windows

**症状**: ダブルクリックしても何も起こらない

**解決方法**:

1. Windows Defenderの除外設定を確認
2. 管理者として実行を試す
3. アプリケーションを再インストール

**症状**: 「このアプリはお使いのPCでは実行できません」

**解決方法**:

- Windows 10 64-bit以降が必要です
- OSのバージョンを確認してください

#### macOS

**症状**: 「開発元を確認できないため開けません」

**解決方法**:

1. システム環境設定 → セキュリティとプライバシー
2. 「このまま開く」をクリック
3. または、Controlキーを押しながらアプリをクリック → 「開く」

**症状**: 「破損しているため開けません」

**解決方法**:

```bash
# ターミナルで実行
xattr -cr /Applications/IconConverter.app
```

#### Linux

**症状**: AppImageが起動しない

**解決方法**:

1. 実行権限を確認: `chmod +x IconConverter-x.x.x.AppImage`
2. FUSE をインストール:

   ```bash
   # Ubuntu/Debian
   sudo apt-get install fuse libfuse2

   # Fedora
   sudo dnf install fuse fuse-libs
   ```

### 変換エラー

#### 「ファイルが大きすぎます」

**原因**: ファイルサイズが10MBを超えています

**解決方法**:

1. 画像編集ソフトで画像を縮小
2. 画像を圧縮
3. 別の形式で保存（例: PNG → JPEG）

#### 「対応していない形式です」

**原因**: サポートされていない画像形式です

**解決方法**:

1. 対応形式を確認: PNG、JPEG、BMP、GIF、TIFF、WebP
2. 画像編集ソフトで対応形式に変換

#### 「画像が破損しています」

**原因**: ファイルが破損しているか、不完全です

**解決方法**:

1. 元のファイルを再ダウンロード
2. 画像編集ソフトで開いて再保存
3. 別の画像ファイルを試す

### 変換結果の問題

#### 透明部分が白くなる

**原因**: 「透明度保持」が無効になっています

**解決方法**:

1. 「透明度保持」オプションを有効化
2. PNG、GIF、WebP形式を使用

#### 背景が透明にならない

**原因**: 「自動背景透明化」が無効、または複雑な背景です

**解決方法**:

1. 「自動背景透明化」オプションを有効化
2. 単色背景の画像を使用
3. 画像編集ソフトで背景を単色に変更

#### 画像が粗い・ぼやける

**原因**: 元の画像サイズが小さすぎます

**解決方法**:

1. より高解像度の元画像を使用（推奨: 512×512以上）
2. ベクター形式（SVG）から高解像度のPNGを生成

### パフォーマンスの問題

#### 変換が遅い

**原因**: 大きな画像ファイル、または低スペックPC

**解決方法**:

1. 画像サイズを縮小（推奨: 1024×1024以下）
2. 他のアプリケーションを閉じる
3. PCを再起動

#### メモリ不足エラー

**原因**: 利用可能なメモリが不足しています

**解決方法**:

1. 他のアプリケーションを閉じる
2. 画像サイズを縮小
3. PCを再起動

### 自動更新の問題

#### 更新が失敗する

**原因**: ネットワーク接続の問題、または権限不足

**解決方法**:

1. インターネット接続を確認
2. ファイアウォール設定を確認
3. 手動で最新版をダウンロードしてインストール

---

## よくある質問

### Q1: オフラインで使用できますか？

**A**: はい、IconConverterは完全にオフラインで動作します。インターネット接続は自動更新のチェック時のみ必要です。

### Q2: 変換した画像はどこに保存されますか？

**A**: 変換時に保存先を指定できます。デフォルトでは元の画像と同じフォルダに保存されます。

### Q3: 複数の画像を一度に変換できますか？

**A**: 現在のバージョンでは1つずつ変換する必要があります。バッチ処理機能は今後のバージョンで追加予定です。

### Q4: 生成されるICOファイルのサイズは？

**A**: 通常、50KB〜500KB程度です。元の画像の複雑さと透明度によって異なります。

### Q5: Windowsアイコン以外の用途で使用できますか？

**A**: はい、ICO形式はWebサイトのファビコンなどにも使用できます。

### Q6: macOSやLinuxでもWindowsアイコンを作成できますか？

**A**: はい、IconConverterはクロスプラットフォーム対応で、どのOSでもWindows ICO形式を生成できます。

### Q7: アニメーションGIFは対応していますか？

**A**: 現在のバージョンでは、GIFの最初のフレームのみが変換されます。アニメーションICOには対応していません。

### Q8: 商用利用は可能ですか？

**A**: はい、IconConverterはMITライセンスで提供されており、商用利用も可能です。

### Q9: データは外部に送信されますか？

**A**: いいえ、すべての処理はローカルで行われます。画像データが外部に送信されることはありません。

### Q10: アンインストール方法は？

**Windows**:

- コントロールパネル → プログラムと機能 → IconConverter → アンインストール

**macOS**:

- ApplicationsフォルダからIconConverter.appをゴミ箱に移動

**Linux**:

```bash
# DEB
sudo apt-get remove iconconverter

# RPM
sudo rpm -e iconconverter

# AppImage
ファイルを削除するだけ
```

---

## サポート

### ヘルプとサポート

問題が解決しない場合は、以下の方法でサポートを受けられます:

1. **GitHubイシュー**: [https://github.com/yourusername/iconconverter/issues](https://github.com/yourusername/iconconverter/issues)
2. **ドキュメント**: [https://github.com/yourusername/iconconverter/tree/main/docs](https://github.com/yourusername/iconconverter/tree/main/docs)

### フィードバック

機能リクエストやバグ報告は、GitHubイシューでお願いします。

---

## バージョン情報

**現在のバージョン**: 1.0.0

**リリースノート**: [CHANGELOG.md](../CHANGELOG.md)を参照してください。

---

## ライセンス

IconConverterはMITライセンスで提供されています。詳細は[LICENSE](../LICENSE)を参照してください。

---

**最終更新**: 2024年11月
